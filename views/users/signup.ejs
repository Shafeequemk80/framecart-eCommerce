<%- include("../layouts/header.ejs")%> 

<!-- End .header -->

<main class="main">
  <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
    <div class="container">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/home">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Pages</a></li>
        <li class="breadcrumb-item active" aria-current="page">sign Up</li>
      </ol>
    </div>
    <!-- End .container -->
  </nav>
  <!-- End .breadcrumb-nav -->

  <div
    class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17"
    style="
      background-image: url('/static/assets/images/backgrounds/login-bg.jpg');
    "
  >
    
      <div class="form-box container">
        <div class="form-tab text-center">
          <h3>Register</h3>
        </div>
        <div
          class="tab-pane fade show active"
          id="register-2"
          role="tabpanel"
          aria-labelledby="register-tab-2"
        >
          <form action="" method="post"  id="registration-form">
            <!-- CSRF token for security -->
            <input type="hidden" name="_csrf" value="your_csrf_token_here" />

            <div class="form-group">
              <label for="username">Username*</label>
              <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                required
              />
            </div>
            <div class="d-flex">
              <div class="form-group w-75">
                <label for="firstname">First name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="firstname"
                  name="firstname"
                  required
                />
              </div>
              <div class="form-group w-25 ml-3">
                <label for="lastname">Last name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="lastname"
                  name="lastname"
                  required
                />
              </div>
            </div>

            <div class="form-group">
              <label for="email">Your email address*</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                required
              />
              <span id="email-error" class="error-message"></span>
            </div>
            <div class="form-group">
              <label for="mobile">Your mobile*</label>
              <input
                type="tel"
                class="form-control"
                id="mobile"
                pattern="[0-9]{10}" 
                name="mobile"
                required
              />
             
            </div>
            <div class="d-flex">
              <div class="form-group w-50">
                <label for="password">Password*</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  required
                />
           
              </div>
              <div class="form-group w-50 ml-5">
                <label for="password-2">Confirm Password*</label>
                <input
                  type="password"
                  class="form-control"
                  id="password-2"
                  name="password_2"
                  required
                />
              </div>
             
            </div>
            <small id="password-error" class="error-message text-danger" ></small> 
            <div class="d-flex text-center">
              <div class="form-group  ">
                <button type="submit" class="btn btn-outline-primary-2 w-75 ">
                  <span>SIGN UP</span>
                  <i class="icon-long-arrow-right"></i>
                </button>
              </div>
            </div>
          </form>
          <% if (typeof message !== "undefined") { %>

          <div class="alert alert-secondary" role="alert">
            <!-- Replace the message with your dynamic message -->
            <%= message %>
          </div>
          <% } %>

          <!-- End .form-choice -->

          <!-- .End .tab-pane -->
        </div>
        <!-- End .tab-content -->
      </div>
      <!-- End .form-tab -->
  </div>
  <!-- End .container -->
</main>
<!-- End .main -->


<%- include("../layouts/userFooter.ejs")%> 

<script>
  const isStrongPassword = (password) => {
    // Use a regular expression to check for a strong password:
    // At least 8 characters, including at least one lowercase letter, one uppercase letter, one number, and one special character.
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/;
    return passwordRegex.test(password);
  };

  document.getElementById("registration-form").addEventListener("submit", function (event) {
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const emailError = document.getElementById("email-error");
    const passwordError = document.getElementById("password-error");

    // Email validation
    if (!emailInput.checkValidity()) {
      emailError.textContent = "Please enter a valid email address.";
      event.preventDefault();
    } else {
      emailError.textContent = "";
    }

    // Password validation
    if (!isStrongPassword(passwordInput.value)) {
      passwordError.textContent = "Password must be at least 8 characters and include lowercase, uppercase, numbers, and special characters.";
      event.preventDefault();
    } else {
      passwordError.textContent = "";
    }
  });
</script>

<%-include("../layouts/footer.ejs")%>
